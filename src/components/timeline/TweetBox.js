import { Avatar, Button } from "@mui/material";
import React, { useState } from "react";
import "./TweetBox.css";
import { collection, addDoc, serverTimestamp } from "firebase/firestore";
import db from "../../firebase";

function TweetBox() {
  const [tweetMessage, setTweetMessage] = useState("");
  const [tweetImage, setTweetImage] = useState("");

  const sendTweet = (e) => {
    /* firebaseのデータベースにデータを追加する。 */
    e.preventDefault();

    addDoc(collection(db, "posts"), {
      displayName: "TERU",
      username: "terupro911",
      verified: true,
      text: tweetMessage,
      avatar:
        "data:image/jpeg;base64,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",
      image: tweetImage,
      timestamp: serverTimestamp(),
    });

    setTweetMessage("");
    setTweetImage("");
  };

  return (
    <div className="tweetBox">
      <form>
        <div className="tweetBox--input">
          <Avatar />
          <input
            value={tweetMessage}
            placeholder="いまどうしてる？"
            type="text"
            onChange={(e) => setTweetMessage(e.target.value)}
          ></input>
        </div>
        <input
          value={tweetImage}
          className="tweetBox--imageInput"
          placeholder="画像のURLを入力してください"
          type="text"
          onChange={(e) => setTweetImage(e.target.value)}
        ></input>

        <Button
          className="tweetBox--tweetButton"
          type="submit"
          onClick={sendTweet}
        >
          ツイートする
        </Button>
      </form>
    </div>
  );
}

export default TweetBox;
